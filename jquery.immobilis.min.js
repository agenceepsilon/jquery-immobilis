/**
 * jQuery Immobilis
 * Version: 1.1.0
 *
 * GitHub: https://github.com/agenceepsilon/jquery-immobilis
 *
 * Date: 2014-02-27
 */
(function(a){a.fn.immobilis=function(b){var c={mainClass:"immobilis",target:"top",css:true};var d=a.extend(c,b);return this.each(function(){var e=a(this);var f=e.offset().top;function h(){var j=a(window).scrollTop();var k=e.offset().top;var i=a(e).height();if(j>k){e.addClass(d.mainClass);e.next().css("margin-top",i);if(d.css){e.css({width:"100%",position:"fixed",top:0,left:0})}}if(j<f){e.removeClass(d.mainClass);e.next().css("margin-top","");if(d.css){e.css({width:"",position:"",top:"",left:""})}}}function g(){var m=a(window).height();var l=a(document).height();var i=l-m;var k=a(window).scrollTop();var j=a(e).height();if(k<i){e.addClass(d.mainClass);e.prev().css("margin-bottom",j);if(d.css){e.css({width:"100%",position:"fixed",top:"auto",bottom:0,left:0})}}else{e.removeClass(d.mainClass);e.prev().css("margin-bottom","");if(d.css){e.css({width:"",position:"",top:"",bottom:"",left:""})}}}if(d.target=="top"){h()}if(d.target=="bottom"){g()}a(window).scroll(function(){if(d.target=="top"){h()}if(d.target=="bottom"){g()}})})}})(jQuery);